<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <title>Postmark Template Previews</title>
    <script>
      var templates = {
        "extension_creation": {
          "name": "Extension Creation",
          "description": "Send a welcome email to users after they sign up.",
          "guide": "https://postmarkapp.com/guides/welcome-email-best-practices"
        },
        "user_creation": {
          "name": "User Creation",
          "description": "Send a welcome email to admin users after they sign up.",
          "guide": "https://postmarkapp.com/guides/welcome-email-best-practices"
        },
        "abandonded_queue": {
          "name": "Abandonded Queue",
          "description": "Send an email to user if call is abandonded in queue.",
          "guide": "https://postmarkapp.com/guides/welcome-email-best-practices"
        },
        "voicemail": {
          "name": "Voicemail",
          "description": "Send a voicemail to email message when voicemail received.",
          "guide": "https://postmarkapp.com/guides/welcome-email-best-practices"
        },
        "report": {
          "name": "Report",
          "description": "Send users a link to reset their password.",
          "guide": "https://postmarkapp.com/guides/password-reset-email-best-practices"
        },
        "conference_report": {
          "name": "Conference Report",
          "description": "Help users reset their password if they canâ€™t remember their email.",
          "guide": "https://postmarkapp.com/guides/password-reset-email-best-practices"
        },
        "missed_call": {
          "name": "Missed Call",
          "description": "Send email if extension misses a call.",
          "guide": "https://postmarkapp.com/guides/receipt-and-invoice-email-best-practices"
        },
        "recording": {
          "name": "Recording",
          "description": "Send the call recording via email",
          "guide": "https://postmarkapp.com/guides/receipt-and-invoice-email-best-practices"
        },
        "received_sms": {
          "name": "Received SMS",
          "description": "Notify users of new SMS received",
          "guide": "https://postmarkapp.com/guides/comment-notification-email-best-practices"
        },
        "max_transmission_attempts": {
          "name": "Max Transmission Attempts",
          "description": "Let users know if a fax can't be delivered.",
          "guide": "https://postmarkapp.com/guides/trial-expiration-email-best-practices"
        },
        "received_fax": {
          "name": "Received Fax",
          "description": "Let users know whena  fax is received.",
          "guide": "https://postmarkapp.com/guides/trial-expiration-email-best-practices"
        },
        "sending_fax_failed": {
          "name": "Sending Fax Failed",
          "description": "Let users know when a fax failed to send and why.",
          "guide": "https://postmarkapp.com/guides/user-invitation-email-best-practices"
        },
        "sending_fax_success": {
          "name": "Sending Fax Success",
          "description": "Notify user of successful fax transmission.",
          "guide": "https://postmarkapp.com/guides/transactional-email-best-practices"
        }
      }
    </script>
    <style>
      body {
        border-top: 8px solid #FEDF32;
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        padding: 24px;
        margin: 0;
        /* Width is just big enough to fit desktop and mobile views side-by-side */
      }
      a {
        color: #137FC9;
        display: inline-block;
        padding: 2px 4px;
        text-decoration: none;
        border-radius: 4px;
      }
      a[href="#toc"] {
        float: right;
        font-size: 120%;
        font-weight: bold;
        margin-top: -24px;
        padding: 4px 8px;
      }
      a[href="#toc"]:after {
        content: "\0020\21e7";
        font-size: 120%;
      }
      a:hover {
        background-color: #EFF5FC;
      }
      ol {
        line-height: 1.6;
      }
      h1, hr {
        clear: both;
      }
      h1 {
        margin-bottom: 0;
      }
      p {
        margin-top: 0;
      }
      hr {
        display: block;
        border-top: 1px solid #ccc;
        border-bottom: none;
        border-right: none;
        border-left: none;
        margin-top: 48px;
        margin-bottom: 48px;
      }
      nav {
        border-bottom: 1px solid #ccc;
        display: block;
        padding-bottom: 24px;
        margin-bottom: 24px;
      }
      nav ul {
        list-style-type: none;
        margin: 0;
        padding: 0;
      }
      nav ul li:first-child {
        border-right: 1px solid #ccc;
        font-weight: bold;
        padding-right: 16px;
        margin-right: 8px;
      }
      nav li {
        display: inline-block;
      }
      nav a {
        font-weight: normal;
        margin-right: 8px;
      }
      nav a:after {
        content: " \0020\2197";
      }
      div.container {
        width: 1128px;
        margin-left: auto;
        margin-right: auto;
      }
      a.mailmason-logo {
        float: right;
      }
      div.table-of-contents {
        float: left;
        padding-bottom: 24px;
      }
    </style>
  </head>
  <body>

    <div class="container">
      <nav>
        <ul>
          <li>MailMason</li>
          <li><a href="https://github.com/wildbit/mailmason/wiki">Repository</a></li>
          <li><a href="https://github.com/wildbit/mailmason/wiki">Documentation</a></li>
          <li><a href="https://postmarkapp.com/why/templates">Postmark Templates</a></li>
        </ul>
      </nav>

      <a href="https://github.com/wildbit/mailmason" class="mailmason-logo"><img src="http://assets.wildbit.com/wildbit/repos/mailmason/mailmason.png" alt="MailMason"></a>

      <div class="table-of-contents">
        <h1>MailMason Template Previews</h1>

        <ol id="toc">
          <!--
            The table of contents is generated from the templates hash at the top
            of the page using the JavaScript at the bottom of the page
          -->
        </ol>
      </div>

      <hr>

      <div id="previews">
        <!--
          The previews are generated from the templates hash at the top
          of the page using the JavaScript at the bottom of the page
        -->
      </div>
    </div>

    <script>
      // This is the block of JavaScript that generates the TOC and previews

      // Find the table of contents and previews area
      var toc = document.getElementById("toc");
      var previews = document.getElementById("previews");

      // Iterate over the templates to generate the TOC and previews
      for (var key in templates) {
        console.log(key);

        // Build the table of contents for the various templates
        var list_item = document.createElement("li");
        var anchor = document.createElement("a");
        anchor.setAttribute("href", "#" + key);
        anchor.appendChild(document.createTextNode(templates[key]["name"]));
        list_item.appendChild(anchor);
        list_item.appendChild(document.createTextNode(" - " + templates[key]["description"]));
        toc.appendChild(list_item);

        // Build the heading for the template
        var heading = document.createElement("h1");
        var description = document.createElement("p");
        var guide_link = document.createElement("a");
        var top_link = document.createElement("a");
        top_link.setAttribute("href", "#toc");
        top_link.appendChild(document.createTextNode("Back to Top"));
        guide_link.setAttribute("href", templates[key]["guide"]);
        guide_link.setAttribute("target", "_blank");
        guide_link.setAttribute("rel", "noopener noreferrer");
        guide_link.appendChild(document.createTextNode("ðŸ“– View Best Practices Guide"));
        heading.appendChild(document.createTextNode(templates[key]["name"]));
        heading.setAttribute("id", key);
        description.appendChild(document.createTextNode(templates[key]["description"]));
        description.appendChild(guide_link)
        previews.appendChild(heading);
        previews.appendChild(top_link);
        previews.appendChild(description);

        // Build the wide iframe preview for wide view of the template
        var wide_preview = document.createElement("iframe");
        wide_preview.setAttribute("width", "640")
        wide_preview.setAttribute("height", "800")
        wide_preview.setAttribute("src", "dist/" + key + ".html")
        previews.appendChild(wide_preview);

        // Build the wide iframe preview for narrow view of the template
        var narrow_preview = document.createElement("iframe");
        narrow_preview.setAttribute("width", "480")
        narrow_preview.setAttribute("height", "800")
        narrow_preview.setAttribute("src", "dist/" + key + ".html")
        previews.appendChild(narrow_preview);

        // Build the wide iframe preview for wide view of the template
        var wide_preview = document.createElement("iframe");
        wide_preview.setAttribute("width", "640")
        wide_preview.setAttribute("height", "400")
        wide_preview.setAttribute("src", "dist/" + key + ".txt")
        previews.appendChild(wide_preview);

        // Build the wide iframe preview for narrow view of the template
        var narrow_preview = document.createElement("iframe");
        narrow_preview.setAttribute("width", "480")
        narrow_preview.setAttribute("height", "400")
        narrow_preview.setAttribute("src", "dist/" + key + ".txt")
        previews.appendChild(narrow_preview);

      };
    </script>
  </body>
</html>
